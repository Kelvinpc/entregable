<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7" crossorigin="anonymous">
</head>
<body>

    <div class="container mt-4 mb-4">
        <a class="btn btn-sm btn-info" href="/create">Registro vehículo</a>
    </div>


    <div class="table-resposibe">
        <table class="table table-sm">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Marca</th>
                    <th>Nombre</th>
                    <th>Modelo</th>
                    <th>Descripcion</th>
                    <th>Almacenamiento</th>
                    <th>RAM</th>
                    <th>Procesador</th>
                    <th>Precio</th>
                    <th>Cantidad</th>
                    <!-- <th>Imagen</th> -->
                    <th>Estado</th>
                    <th>Categoria</th>
                    <th>Operaciones</th>
                </tr>
            </thead>
            <tbody>
                <% producto.forEach(producto => { %>
                    <tr>
                        <td><%= producto.idproducto %></td>
                        <td><%= producto.nommarca %></td>
                        <td><%= producto.nomproducto %></td>
                        <td><%= producto.modeloproducto %></td>
                        <td><%= producto.descripcionproducto %></td>
                        <td><%= producto.memoriagb %></td>
                        <td><%= producto.ramgb %></td>
                        <td><%= producto.procesador %></td>
                        <td><%= producto.precioproducto %></td>
                        <td><%= producto.cantidadproducto %></td>
                        <td><%= producto.disponibilidadproducto %></td>
                        <td><%= producto.nomcategoria %></td>
                        <td>
                            <a href="/edit/<%= producto.idproducto %>" class="btn btn-sm btn-info">Editar</a>


                            <a href="/delete/<%= producto.idproducto %>" class="btn btn-sm btn-danger delete">Eliminar</a>
                        </td> 

                    </tr>
                <%}) %>

            </tbody>

        </table>

    </div>


    
</body>


<script>
    document.addEventListener("DOMContentLoaded",()=>{
      const enlacesEliminar=document.querySelectorAll(".delete");
      enlacesEliminar.forEach((enlace) => {
      enlace.addEventListener("click",(event)=>{
        event.preventDefault();
        Swal.fire({
          title:'PRODUCTO',
          text:'¿Está seguro de eliminar?',
          icon:'question',
          footer:'SENATI ING. SOFTWARE',
          confirmButtonText:'Aceptar',
          confirmButtonColor:'#2980b9',
          showCancelButton:true,
          cancelButtonText:'Cancelar'
        }).then((result)=>{
          if(result.isConfirmed){
            window.location.href=event.target.getAttribute("href")
          }
        })//then()
      })//addEventListener
    })//forEach
  });//DOMCDontentLoaded
  </script>

  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

  </html>